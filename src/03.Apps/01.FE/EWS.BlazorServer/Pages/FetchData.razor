@page "/fetchdata"
@using EWS.Domain.Example
@using eXtensionSharp
@using EWS.BlazorServer.Components.FetchData
@using EWS.BlazorShared.Base

@inherits JComponent<FetchData, JDlgOptions<bool>, bool>

<JComponentLayout>
    <PageTitle>Weather forecast</PageTitle>

    <h1>Weather forecast</h1>
     
    <p>This component demonstrates fetching data from a service.</p>

    <UcFetchData/>

    <Button OnClick="Click">Popup</Button>
</JComponentLayout>

@code {

    private async Task Click()
    {
        await this.ShowDialog<UcFetchData, JDlgOptions<bool>, IEnumerable<WeatherForecastResult>>(new JDlgOptions<bool>(), Callback);
    }

    private async void Callback(IEnumerable<WeatherForecastResult> result)
    {
        Logger.LogInformation("UcFetchData result : {Result}", result.xToJson());
    }

}